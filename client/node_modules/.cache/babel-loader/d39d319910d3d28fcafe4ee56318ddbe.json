{"remainingRequest":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/TransactionDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/TransactionDetail.vue","mtime":1576432791341},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydpZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFuc2FjdGlvbjogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGl2ZXJlZDogZnVuY3Rpb24gZGVsaXZlcmVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGxvYWRlciA9IHRoaXMuJGxvYWRpbmcuc2hvdygpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQ09ORklSTV9ERUxJVkVSRUQnLCB0aGlzLnRyYW5zYWN0aW9uLl9pZCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KGRhdGEubWVzc2FnZSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL3RyYW5zYWN0aW9ucycpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgcmVzcG9uc2UgPSBfcmVmMi5yZXNwb25zZTsKICAgICAgICBfdGhpcy5wYXNzd29yZCA9ICcnOwoKICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwoKICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPSAnc3RyaW5nJykgewogICAgICAgICAgICByZXNwb25zZS5kYXRhLm1lc3NhZ2UuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHRvYXN0ZWQuc2hvdyhtc2csIHsKICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JnLWRhbmdlcicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KHJlc3BvbnNlLmRhdGEubWVzc2FnZSwgewogICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JnLWRhbmdlcicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiR0b2FzdGVkLnNob3coJ1NvbWV0aGluZyB3ZW50IHdyb25nJywgewogICAgICAgICAgICBjbGFzc05hbWU6ICdiZy1kYW5nZXInCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBsb2FkZXIuaGlkZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbG9hZGVyID0gdGhpcy4kbG9hZGluZy5zaG93KCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdDQU5DRUxfVFJBTlNBQ1RJT04nLCB0aGlzLnRyYW5zYWN0aW9uLl9pZCkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CgogICAgICAgIF90aGlzMi4kdG9hc3RlZC5zaG93KGRhdGEubWVzc2FnZSk7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy90cmFuc2FjdGlvbnMnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjQucmVzcG9uc2U7CiAgICAgICAgX3RoaXMyLnBhc3N3b3JkID0gJyc7CgogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5mb3JFYWNoKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0ZWQuc2hvdyhtc2csIHsKICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JnLWRhbmdlcicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJHRvYXN0ZWQuc2hvdyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UsIHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiZy1kYW5nZXInCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJHRvYXN0ZWQuc2hvdygnU29tZXRoaW5nIHdlbnQgd3JvbmcnLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JnLWRhbmdlcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGxvYWRlci5oaWRlKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdGRVRDSF9VU0VSX0RBVEEnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpczMuJHN0b3JlLnN0YXRlLnVzZXIub25TZXNzaW9uKSB7CiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucmVwbGFjZSgiL3Nlc3Npb24/ZnJvbT0vdHJhbnNhY3Rpb25zLyIuY29uY2F0KF90aGlzMy5pZCwgIiZvbj1zaWduaW4iKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgnR0VUX1RSQU5TQUNUSU9OX0RFVEFJTCcsIF90aGlzMy5pZCkudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjUuZGF0YTsKICAgICAgICAgIF90aGlzMy50cmFuc2FjdGlvbiA9IGRhdGEuZGF0YTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["TransactionDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"mx-auto row w-100\" id=\"cart\" v-if=\"transaction\">\n      <div class=\"col-12 ml-md-5 text-center text-md-left\">\n        <div>\n          <p class=\"mb-0 text-muted\">\n            {{ transaction.updatedAt | formatDate }}\n          </p>\n          <h3>Total Price: {{ transaction.totalPrice | formatCurrency }}</h3>\n          <p>\n            Status:\n            {{\n              transaction.status[0].toUpperCase() + transaction.status.slice(1)\n            }}\n          </p>\n        </div>\n      </div>\n      <div\n        class=\"ml-0 ml-md-5 d-flex flex-wrap justify-content-center justify-content-md-start text-center w-100\"\n      >\n        <b-button\n          class=\"mx-3 my-2 my-sm-0\"\n          variant=\"outline-accent\"\n          size=\"lg\"\n          active-class\n          to=\"/transactions\"\n          >Back</b-button\n        >\n        <b-button\n          class=\"mx-2 my-2 my-sm-0\"\n          variant=\"primary\"\n          size=\"lg\"\n          v-if=\"transaction.status == 'delivering'\"\n          @click=\"delivered\"\n          >Confirm Delivered</b-button\n        >\n        <b-button\n          class=\"mx-2 my-2 my-sm-0\"\n          variant=\"outline-danger\"\n          size=\"lg\"\n          v-if=\"transaction.status == 'confirming'\"\n          @click=\"cancel\"\n          >Cancel Transaction</b-button\n        >\n      </div>\n      <div\n        class=\"item col-12 d-flex flex-column flex-md-row align-items-center justify-content-center justify-content-md-start my-3 rounded\"\n        v-for=\"item in transaction.items\"\n        :key=\"item.name\"\n      >\n        <b-img class=\"pt-2\" :src=\"item.image\" width=\"300\" fluid></b-img>\n        <div class=\"mt-2 mt-md-0 text-center text-sm-left\">\n          <h4 class=\"mb-0\">{{ item.name }}</h4>\n          <small class=\"text-muted\">\n            {{ item.amount }} pcs x\n            {{ item.price | formatCurrency }}\n          </small>\n          <h5 class=\"mt-4\">\n            {{ (item.price * item.amount) | formatCurrency }}\n          </h5>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      transaction: null\n    }\n  },\n  methods: {\n    delivered() {\n      const loader = this.$loading.show()\n      this.$store\n        .dispatch('CONFIRM_DELIVERED', this.transaction._id)\n        .then(({ data }) => {\n          this.$toasted.show(data.message)\n          this.$router.push('/transactions')\n        })\n        .catch(({ response }) => {\n          this.password = ''\n          if (response) {\n            const message = response.data.message\n            if (typeof message != 'string') {\n              response.data.message.forEach(msg => {\n                this.$toasted.show(msg, { className: 'bg-danger' })\n              })\n            } else {\n              this.$toasted.show(response.data.message, {\n                className: 'bg-danger'\n              })\n            }\n          } else {\n            this.$toasted.show('Something went wrong', {\n              className: 'bg-danger'\n            })\n          }\n        })\n        .finally(() => loader.hide())\n    },\n    cancel() {\n      const loader = this.$loading.show()\n      this.$store\n        .dispatch('CANCEL_TRANSACTION', this.transaction._id)\n        .then(({ data }) => {\n          this.$toasted.show(data.message)\n          this.$router.push('/transactions')\n        })\n        .catch(({ response }) => {\n          this.password = ''\n          if (response) {\n            const message = response.data.message\n            if (typeof message != 'string') {\n              response.data.message.forEach(msg => {\n                this.$toasted.show(msg, { className: 'bg-danger' })\n              })\n            } else {\n              this.$toasted.show(response.data.message, {\n                className: 'bg-danger'\n              })\n            }\n          } else {\n            this.$toasted.show('Something went wrong', {\n              className: 'bg-danger'\n            })\n          }\n        })\n        .finally(() => loader.hide())\n    }\n  },\n  created() {\n    this.$store.dispatch('FETCH_USER_DATA').then(() => {\n      if (!this.$store.state.user.onSession) {\n        this.$router.replace(`/session?from=/transactions/${this.id}&on=signin`)\n      } else {\n        this.$store\n          .dispatch('GET_TRANSACTION_DETAIL', this.id)\n          .then(({ data }) => {\n            this.transaction = data.data\n          })\n          .catch(() => {\n            this.$router.replace('/')\n          })\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  height: 100%;\n  padding-top: 5.7rem;\n}\n</style>\n"],"sourceRoot":"src/views"}]}