{"remainingRequest":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/components/AdminDashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/components/AdminDashboard.vue","mtime":1576433147821},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBpbWFnZUZpbGU6IG51bGwsCiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgcHJpY2U6ICcnLAogICAgICBzdG9jazogMCwKICAgICAgdmFsaWRhdGVOYW1lOiBudWxsLAogICAgICB2YWxpZGF0ZUltYWdlOiBudWxsLAogICAgICB2YWxpZGF0ZVByaWNlOiBudWxsLAogICAgICB2YWxpZGF0ZVN0b2NrOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBlbmRpbmdUcmFuc2FjdGlvbnM6IGZ1bmN0aW9uIHBlbmRpbmdUcmFuc2FjdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hZG1pbi50cmFuc2FjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQuc3RhdHVzID09ICdjb25maXJtaW5nJzsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZU51bWJlcjogZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIoKSB7CiAgICAgIHRoaXMucHJpY2UgPSB0aGlzLnByaWNlLnJlcGxhY2UoL1teMC05XSsvZywgJycpOwogICAgfSwKICAgIG9uQWRkTmV3SXRlbTogZnVuY3Rpb24gb25BZGROZXdJdGVtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG5hbWUgPSB0aGlzLm5hbWUsCiAgICAgICAgICBpbWFnZVVybCA9IHRoaXMuaW1hZ2VVcmwsCiAgICAgICAgICBwcmljZSA9IHRoaXMucHJpY2UsCiAgICAgICAgICBzdG9jayA9IHRoaXMuc3RvY2s7CiAgICAgIHZhciBpc1ZhbGlkID0gdHJ1ZTsKCiAgICAgIGlmICghbmFtZSkgewogICAgICAgIHRoaXMudmFsaWRhdGVOYW1lID0gZmFsc2U7CiAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIWltYWdlVXJsKSB7CiAgICAgICAgdGhpcy52YWxpZGF0ZUltYWdlID0gZmFsc2U7CiAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIXByaWNlKSB7CiAgICAgICAgdGhpcy52YWxpZGF0ZVByaWNlID0gZmFsc2U7CiAgICAgICAgaXNWYWxpZCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLiRsb2FkaW5nLnNob3coKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnQUREX0lURU0nLCB7CiAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgaW1hZ2U6IGltYWdlVXJsLAogICAgICAgICAgcHJpY2U6IHByaWNlLAogICAgICAgICAgc3RvY2s6IHN0b2NrCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgICAgX3RoaXMuJHRvYXN0ZWQuc2hvdyhkYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgIF90aGlzLm5hbWUgPSAnJzsKICAgICAgICAgIF90aGlzLmltYWdlVXJsID0gJyc7CiAgICAgICAgICBfdGhpcy5pbWFnZUZpbGUgPSBudWxsOwogICAgICAgICAgX3RoaXMucHJpY2UgPSAnJzsKICAgICAgICAgIF90aGlzLnN0b2NrID0gMDsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgIHZhciByZXNwb25zZSA9IF9yZWYyLnJlc3BvbnNlOwogICAgICAgICAgX3RoaXMucGFzc3dvcmQgPSAnJzsKCiAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgIT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm1lc3NhZ2UuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KG1zZywgewogICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiZy1kYW5nZXInCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KHJlc3BvbnNlLmRhdGEubWVzc2FnZSwgewogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYmctZGFuZ2VyJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KCdTb21ldGhpbmcgd2VudCB3cm9uZycsIHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiZy1kYW5nZXInCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGxvYWRlci5oaWRlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpbWFnZUZpbGU6IGZ1bmN0aW9uIGltYWdlRmlsZSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodmFsKSB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnVVBMT0FEX0lNQUdFJywgdmFsKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgICBfdGhpczIuaW1hZ2VVcmwgPSBkYXRhLmRhdGEuaW1hZ2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AdminDashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <b-row align-h=\"between\">\n      <b-col md=\"6\" lg=\"4\">\n        <b-card title=\"Pending Transaction\" align=\"center\">\n          <b-card-sub-title sub-title-text-variant=\"muted\">\n            There are\n            <strong>{{ transactions.length }}</strong> Pending Transaction\n          </b-card-sub-title>\n          <b-button\n            class=\"mt-3\"\n            variant=\"outline-primary\"\n            to=\"/admin/transactions\"\n            >Go to Transactions</b-button\n          >\n        </b-card>\n      </b-col>\n\n      <b-col md=\"6\" class=\"mt-3 mt-md-0\">\n        <b-card>\n          <b-card-title class=\"text-center\">Add New Item</b-card-title>\n          <b-card-body>\n            <b-form @submit.prevent=\"onAddNewItem\" novalidate>\n              <b-form-group label=\"Item Name\" label-for=\"item-name\">\n                <b-form-input\n                  id=\"item-name\"\n                  v-model=\"name\"\n                  type=\"text\"\n                  :state.sync=\"validateName\"\n                  @focus=\"validateName = null\"\n                  required\n                  placeholder=\"Item Name\"\n                ></b-form-input>\n              </b-form-group>\n\n              <b-form-group label=\"Image\" label-for=\"item-image\">\n                <b-form-file\n                  accept=\"image/*\"\n                  v-model=\"imageFile\"\n                  :state.sync=\"validateImage\"\n                  @focus=\"validateImage = null\"\n                  required\n                ></b-form-file>\n              </b-form-group>\n\n              <b-form-group label=\"Price\" label-for=\"item-price\">\n                <b-form-input\n                  id=\"item-price\"\n                  v-model=\"price\"\n                  type=\"text\"\n                  :state.sync=\"validatePrice\"\n                  @focus=\"validatePrice = null\"\n                  required\n                  @keyup=\"validateNumber\"\n                  placeholder=\"Item Price\"\n                ></b-form-input>\n              </b-form-group>\n\n              <b-form-group label=\"Stock\" label-for=\"item-stock\">\n                <b-form-input\n                  id=\"item-stock\"\n                  v-model=\"stock\"\n                  type=\"number\"\n                  :state.sync=\"validateStock\"\n                  @focus=\"validateStock = null\"\n                  required\n                  placeholder=\"Item Stock\"\n                ></b-form-input>\n              </b-form-group>\n\n              <b-button type=\"submit\" variant=\"primary\">Add Item</b-button>\n            </b-form>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      name: '',\n      imageFile: null,\n      imageUrl: '',\n      price: '',\n      stock: 0,\n      validateName: null,\n      validateImage: null,\n      validatePrice: null,\n      validateStock: null\n    }\n  },\n  computed: {\n    pendingTransactions() {\n      return this.$store.state.admin.transactions.filter(\n        t => t.status == 'confirming'\n      )\n    }\n  },\n  methods: {\n    validateNumber() {\n      this.price = this.price.replace(/[^0-9]+/g, '')\n    },\n    onAddNewItem() {\n      const { name, imageUrl, price, stock } = this\n      let isValid = true\n      if (!name) {\n        this.validateName = false\n        isValid = false\n      }\n      if (!imageUrl) {\n        this.validateImage = false\n        isValid = false\n      }\n      if (!price) {\n        this.validatePrice = false\n        isValid = false\n      }\n      if (isValid) {\n        const loader = this.$loading.show()\n        this.$store\n          .dispatch('ADD_ITEM', { name, image: imageUrl, price, stock })\n          .then(({ data }) => {\n            this.$toasted.show(data.message)\n            this.name = ''\n            this.imageUrl = ''\n            this.imageFile = null\n            this.price = ''\n            this.stock = 0\n          })\n          .catch(({ response }) => {\n            this.password = ''\n            if (response) {\n              const message = response.data.message\n              if (typeof message != 'string') {\n                response.data.message.forEach(msg => {\n                  this.$toasted.show(msg, { className: 'bg-danger' })\n                })\n              } else {\n                this.$toasted.show(response.data.message, {\n                  className: 'bg-danger'\n                })\n              }\n            } else {\n              this.$toasted.show('Something went wrong', {\n                className: 'bg-danger'\n              })\n            }\n          })\n          .finally(() => loader.hide())\n      }\n    }\n  },\n  watch: {\n    imageFile(val) {\n      if (val)\n        this.$store.dispatch('UPLOAD_IMAGE', val).then(({ data }) => {\n          this.imageUrl = data.data.image\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  height: 100%;\n  padding-top: 5.7rem;\n}\n</style>\n"],"sourceRoot":"src/components"}]}