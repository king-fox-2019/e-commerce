{"remainingRequest":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/Cart.vue","mtime":1576429517216},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmllbGRzOiBbewogICAgICAgIGtleTogJ25hbWUnLAogICAgICAgIGxhYmVsOiAnUHJvZHVjdCBOYW1lJwogICAgICB9LCB7CiAgICAgICAga2V5OiAncHJpY2UnLAogICAgICAgIGxhYmVsOiAnUHJvZHVjdCBQcmljZScKICAgICAgfSwgewogICAgICAgIGtleTogJ3F0eScsCiAgICAgICAgbGFiZWw6ICdRVFknCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICd0b3RhbCcsCiAgICAgICAgbGFiZWw6ICdUb3RhbCcKICAgICAgfV0sCiAgICAgIGNoZWNrb3V0SG92ZXI6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY2FydC5pdGVtczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdEN1cnJlbmNyeTogZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3J5KHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCdpZCcsIHsKICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICBjdXJyZW5jeTogJ0lEUicKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tvdXRDYXJ0OiBmdW5jdGlvbiBjaGVja291dENhcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbG9hZGVyID0gdGhpcy4kbG9hZGluZy5zaG93KCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdDSEVDS09VVF9UUkFOU0FDVElPTicpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgX3RoaXMuJHRvYXN0ZWQuc2hvdyhkYXRhLm1lc3NhZ2UpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy90cmFuc2FjdGlvbnMnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjIucmVzcG9uc2U7CgogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5mb3JFYWNoKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3RlZC5zaG93KG1zZywgewogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYmctZGFuZ2VyJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiR0b2FzdGVkLnNob3cocmVzcG9uc2UuZGF0YS5tZXNzYWdlLCB7CiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYmctZGFuZ2VyJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHRvYXN0ZWQuc2hvdygnU29tZXRoaW5nIHdlbnQgd3JvbmcnLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JnLWRhbmdlcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGxvYWRlci5oaWRlKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdGRVRDSF9VU0VSX0RBVEEnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIub25TZXNzaW9uKSB7CiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucmVwbGFjZSgnL3Nlc3Npb24/ZnJvbT0vY2FydCZvbj1zaWduaW4nKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,GAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,GAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,GAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAbA,CADA;AAmBA,MAAA,aAAA,EAAA;AAnBA,KAAA;AAqBA,GAvBA;AAwBA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA;AAHA,GAxBA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,KADA,EACA;AACA,UAAA,CAAA,KAAA,EAAA,OAAA,EAAA;AACA,aAAA,KAAA,CAAA,cAAA,CAAA,IAAA,EAAA;AAAA,QAAA,KAAA,EAAA,UAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAJA;AAKA,IAAA,YALA,0BAKA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,QAAA,CAAA,IAAA,EAAA;AACA,WAAA,MAAA,CACA,QADA,CACA,sBADA,EAEA,IAFA,CAEA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,eAAA;AACA,OALA,EAMA,KANA,CAMA,iBAAA;AAAA,YAAA,QAAA,SAAA,QAAA;;AACA,YAAA,QAAA,EAAA;AACA,cAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AACA,cAAA,OAAA,OAAA,IAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AAAA,gBAAA,SAAA,EAAA;AAAA,eAAA;AACA,aAFA;AAGA,WAJA,MAIA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,cAAA,SAAA,EAAA;AADA,aAAA;AAGA;AACA,SAXA,MAWA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,sBAAA,EAAA;AACA,YAAA,SAAA,EAAA;AADA,WAAA;AAGA;AACA,OAvBA,EAwBA,OAxBA,CAwBA;AAAA,eAAA,MAAA,CAAA,IAAA,EAAA;AAAA,OAxBA;AAyBA;AAhCA,GA7BA;AA+DA,EAAA,OA/DA,qBA+DA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,+BAAA;AACA;AACA,KAJA;AAKA;AArEA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"mx-auto text-center\">\n      <b-button\n        class=\"px-5\"\n        variant=\"outline-primary\"\n        size=\"lg\"\n        @mouseenter=\"checkoutHover = true\"\n        @mouseleave=\"checkoutHover = false\"\n        @click=\"checkoutCart\"\n        v-if=\"items\"\n      >\n        {{\n        checkoutHover\n        ? 'Checkout'\n        : `Total: ${formatCurrencry(\n        items\n        .map(item => item.item.price * item.amount)\n        .reduce((r, i) => r + i)\n        )}`\n        }}\n      </b-button>\n    </div>\n    <div class=\"mx-auto row w-100\" id=\"cart\">\n      <router-link\n        tag=\"div\"\n        class=\"item col-12 p-0 d-flex flex-column flex-md-row align-items-center justify-content-center justify-content-md-start my-3 rounded\"\n        v-for=\"item in items\"\n        :key=\"item.item._id\"\n        :to=\"`/items/${item.item._id}`\"\n      >\n        <!-- <figure class=\"border flex-shrink-1\"> -->\n        <b-img :src=\"item.item.image\" width=\"300\" fluid></b-img>\n        <!-- </figure> -->\n        <div class=\"ml-0 ml-md-3 mt-2 mt-md-0 text-center text-sm-left\">\n          <h4 class=\"mb-0\">{{ item.item.name }}</h4>\n          <small class=\"text-muted\">\n            {{ item.amount }} pcs x\n            {{ item.item.price | formatCurrency }}\n          </small>\n          <h5 class=\"mt-4\">{{ (item.item.price * item.amount) | formatCurrency }}</h5>\n        </div>\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fields: [\n        {\n          key: 'name',\n          label: 'Product Name'\n        },\n        {\n          key: 'price',\n          label: 'Product Price'\n        },\n        {\n          key: 'qty',\n          label: 'QTY'\n        },\n        {\n          key: 'total',\n          label: 'Total'\n        }\n      ],\n      checkoutHover: false\n    }\n  },\n  computed: {\n    items() {\n      return this.$store.state.user.cart.items\n    }\n  },\n  methods: {\n    formatCurrencry(value) {\n      if (!value) return ''\n      return value.toLocaleString('id', { style: 'currency', currency: 'IDR' })\n    },\n    checkoutCart() {\n      const loader = this.$loading.show()\n      this.$store\n        .dispatch('CHECKOUT_TRANSACTION')\n        .then(({ data }) => {\n          this.$toasted.show(data.message)\n          this.$router.push('/transactions')\n        })\n        .catch(({ response }) => {\n          if (response) {\n            const message = response.data.message\n            if (typeof message != 'string') {\n              response.data.message.forEach(msg => {\n                this.$toasted.show(msg, { className: 'bg-danger' })\n              })\n            } else {\n              this.$toasted.show(response.data.message, {\n                className: 'bg-danger'\n              })\n            }\n          } else {\n            this.$toasted.show('Something went wrong', {\n              className: 'bg-danger'\n            })\n          }\n        })\n        .finally(() => loader.hide())\n    }\n  },\n  created() {\n    this.$store.dispatch('FETCH_USER_DATA').then(() => {\n      if (!this.$store.state.user.onSession) {\n        this.$router.replace('/session?from=/cart&on=signin')\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  min-height: 100%;\n  padding-top: 5.7rem;\n\n  #cart {\n    .item {\n      cursor: pointer;\n      border: 1px solid transparent;\n\n      &:hover {\n        border: 1px solid #e3e6ea;\n        box-shadow: 1px 1px 5px -3px var(--accent);\n      }\n    }\n\n    // tbody {\n    //   cursor: pointer !important;\n    // }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}