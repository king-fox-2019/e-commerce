{"remainingRequest":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/Cart.vue?vue&type=style&index=0&id=c028c34c&lang=scss&scoped=true&","dependencies":[{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/src/views/Cart.vue","mtime":1576406905366},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aliftaufik/Documents/hacktiv8/hacktiv8-phase-2-repeat/portofolio/lazalopedia/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbnRhaW5lciB7CiAgbWluLWhlaWdodDogMTAwJTsKICBwYWRkaW5nLXRvcDogNS43cmVtOwoKICAjY2FydCB7CiAgICAuaXRlbSB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CgogICAgICAmOmhvdmVyIHsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTNlNmVhOwogICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IC0zcHggdmFyKC0tYWNjZW50KTsKICAgICAgfQogICAgfQoKICAgIC8vIHRib2R5IHsKICAgIC8vICAgY3Vyc29yOiBwb2ludGVyICFpbXBvcnRhbnQ7CiAgICAvLyB9CiAgfQp9Cg=="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"mx-auto text-center\">\n      <b-button\n        class=\"px-5\"\n        variant=\"outline-primary\"\n        size=\"lg\"\n        @mouseenter=\"checkoutHover = true\"\n        @mouseleave=\"checkoutHover = false\"\n        @click=\"checkoutCart\"\n        v-if=\"items\"\n      >\n        {{\n          checkoutHover\n            ? 'Checkout'\n            : `Total: ${formatCurrencry(\n                items\n                  .map(item => item.item.price * item.amount)\n                  .reduce((r, i) => r + i)\n              )}`\n        }}\n      </b-button>\n    </div>\n    <div class=\"mx-auto row w-100\" id=\"cart\">\n      <router-link\n        tag=\"div\"\n        class=\"item col-12 d-flex flex-column flex-md-row align-items-center justify-content-center justify-content-md-start my-3 rounded\"\n        v-for=\"item in items\"\n        :key=\"item.item._id\"\n        :to=\"`/items/${item.item._id}`\"\n      >\n        <!-- <figure class=\"border flex-shrink-1\"> -->\n        <b-img class=\"pt-2\" :src=\"item.item.image\" width=\"300\" fluid></b-img>\n        <!-- </figure> -->\n        <div class=\"mt-2 mt-md-0 text-center text-sm-left\">\n          <h4 class=\"mb-0\">{{ item.item.name }}</h4>\n          <small class=\"text-muted\">\n            {{ item.amount }} pcs x\n            {{ item.item.price | formatCurrency }}\n          </small>\n          <h5 class=\"mt-4\">\n            {{ (item.item.price * item.amount) | formatCurrency }}\n          </h5>\n        </div>\n      </router-link>\n    </div>\n    <!-- <table class=\"table table-hover table-borderless \">\n      <thead class=\"thead-dark\">\n        <tr>\n          <th v-for=\"field in fields\" :key=\"field.key\">{{ field.label }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in items\" :key=\"item.item._id\">\n          <td>\n            <img :src=\"item.item.image\" width=\"200px\" :alt=\"item.item.name\" />\n          </td>\n          <td>{{ item.item.name }}</td>\n          <td>{{ item.item.price | formatCurrency }}</td>\n          <td>{{ item.amount }}</td>\n          <td>{{ (item.item.price * item.amount) | formatCurrency }}</td>\n        </tr>\n      </tbody>\n    </table>-->\n    <!-- <b-table striped hover :fields=\"fields\" :items=\"items\">\n      <template v-slot:cell(name)=\"data\">\n        {{ data.item.item.name }}\n      </template>\n      <template v-slot:cell(price)=\"data\">\n        {{ data.item.item.price | formatCurrency }}\n      </template>\n      <template v-slot:cell(qty)=\"data\">\n        {{ data.item.amount }}\n      </template>\n      <template v-slot:cell(total)=\"data\">\n        {{ (data.item.item.price * data.item.amount) | formatCurrency }}\n      </template>\n    </b-table>-->\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fields: [\n        {\n          key: 'name',\n          label: 'Product Name'\n        },\n        {\n          key: 'price',\n          label: 'Product Price'\n        },\n        {\n          key: 'qty',\n          label: 'QTY'\n        },\n        {\n          key: 'total',\n          label: 'Total'\n        }\n      ],\n      checkoutHover: false\n    }\n  },\n  computed: {\n    items() {\n      return this.$store.state.user.cart.items\n    }\n  },\n  methods: {\n    formatCurrencry(value) {\n      if (!value) return ''\n      return value.toLocaleString('id', { style: 'currency', currency: 'IDR' })\n    },\n    checkoutCart() {\n      const loader = this.$loading.show()\n      this.$store\n        .dispatch('CHECKOUT_TRANSACTION')\n        .then(({ data }) => {\n          this.$toasted.show(data.message)\n          this.$router.push('/transactions')\n        })\n        .catch(({ response }) => {\n          if (response) {\n            const message = response.data.message\n            if (typeof message != 'string') {\n              response.data.message.forEach(msg => {\n                this.$toasted.show(msg, { className: 'bg-danger' })\n              })\n            } else {\n              this.$toasted.show(response.data.message, {\n                className: 'bg-danger'\n              })\n            }\n          } else {\n            this.$toasted.show('Something went wrong', {\n              className: 'bg-danger'\n            })\n          }\n        })\n        .finally(() => loader.hide())\n    }\n  },\n  created() {\n    this.$store\n      .dispatch('FETCH_USER_DATA')\n      .then(() => {\n        if (!this.$store.state.user.onSession) {\n          this.$router.replace('/session?from=/cart&on=signin')\n        }\n      })\n      .catch()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  min-height: 100%;\n  padding-top: 5.7rem;\n\n  #cart {\n    .item {\n      cursor: pointer;\n      border: 1px solid transparent;\n\n      &:hover {\n        border: 1px solid #e3e6ea;\n        box-shadow: 1px 1px 5px -3px var(--accent);\n      }\n    }\n\n    // tbody {\n    //   cursor: pointer !important;\n    // }\n  }\n}\n</style>\n"]}]}